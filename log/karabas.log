[Mon Sep 12 03:04:26 2016] [info] Karabas is coming!
[Mon Sep 12 03:16:38 2016] [info] Karabas is coming!
[Mon Sep 12 03:25:08 2016] [info] user:1, chapter:8, action:other{@@ -9,4 +9,11 @@
 "autoopen_ed":1,
 "iwidth":70,
 "width":700,
-"hideradio":0
\ No newline at end of file
+"hideradio":0,
+"zone":{
+  "12":1, "13":1
+},
+"value_style":{
+  "1":"color:blue;font-weight:bold",
+  "2":"color:brown"
+}
\ No newline at end of file
}; 
[Mon Sep 12 03:26:19 2016] [info] user:1, chapter:8, action:other{@@ -9,11 +9,4 @@
 "autoopen_ed":1,
 "iwidth":70,
 "width":700,
-"hideradio":0,
+"hideradio":0
\ No newline at end of file
-"zone":{
-  "12":1, "13":1
-},
-"value_style":{
-  "1":"color:blue;font-weight:bold",
-  "2":"color:brown"
-}
\ No newline at end of file
}; 
[Mon Sep 12 03:33:08 2016] [info] Karabas is coming!
[Mon Sep 12 03:39:58 2016] [info] Karabas is coming!
[Mon Sep 12 03:42:18 2016] [info] Karabas is coming!
[Mon Sep 12 03:45:07 2016] [info] Karabas is coming!
[Mon Sep 12 12:03:53 2016] [info] Karabas is coming!
[Mon Sep 12 12:42:54 2016] [info] user:1, chapter:8, action:other{@@ -1,5 +1,12 @@
-"date":[9,11],
-"textarea":[3,5,12],
+"select_fields":{
+    "users.status":{
+        "table":"user_statuses",
+        "col_value":"status",
+        "col_id":"id"
+    }
+},
+"date":{ "9":1, "11":1 },
+"textarea":{ "3":{}, "5":{}, "12":{} },
 "grcol":{
     "column":1,
     "color":"#efefef"
}; 
[Mon Sep 12 12:47:41 2016] [info] user:1, chapter:8, action:log{0 -> }; other{@@ -13,7 +13,7 @@
 "checkbox":{
   "7":[1,0]
 },
-"pwd":{
+"password":{
   "3":1
 },
 "help":1,
}; 
[Mon Sep 12 12:49:26 2016] [info] user:1, chapter:8, action:log{0 -> }; other{@@ -11,7 +11,7 @@
   }
 },
 "checkbox":{
-  "7":[1,0]
+  "6":[1,0]
 },
 "password":{
   "3":1
}; 
[Mon Sep 12 12:49:57 2016] [info] user:1, chapter:8, action:log{0 -> }; other{@@ -11,7 +11,7 @@
   }
 },
 "checkbox":{
-  "6":[1,0]
+  "moderators.status":[1,0]
 },
 "password":{
   "3":1
}; 
[Mon Sep 12 12:53:51 2016] [info] Karabas is coming!
[Mon Sep 12 12:54:30 2016] [info] Karabas is coming!
[Mon Sep 12 13:07:34 2016] [info] Karabas is coming!
[Mon Sep 12 13:09:44 2016] [info] Karabas is coming!
[Mon Sep 12 13:11:00 2016] [info] user:1, chapter:8, action:other{@@ -16,4 +16,4 @@
 "autoopen_ed":1,
 "iwidth":70,
 "width":700,
-"hideradio":0
\ No newline at end of file
+"hideradio":1
\ No newline at end of file
}; 
[Mon Sep 12 13:18:03 2016] [info] Karabas is coming!
[Mon Sep 12 13:44:56 2016] [info] Karabas is coming!
[Mon Sep 12 14:46:19 2016] [info] Karabas is coming!
[Mon Sep 12 14:46:33 2016] [info] Karabas is coming!
[Mon Sep 12 16:38:53 2016] [info] Karabas is coming!
[Mon Sep 12 16:45:47 2016] [info] Karabas is coming!
[Mon Sep 12 16:45:54 2016] [info] Karabas is coming!
[Mon Sep 12 16:48:22 2016] [info] Karabas is coming!
[Mon Sep 12 16:53:45 2016] [info] Karabas is coming!
[Mon Sep 12 17:28:37 2016] [info] Karabas is coming!
[Mon Sep 12 17:34:16 2016] [info] Karabas is coming!
[Mon Sep 12 17:34:45 2016] [info] Karabas is coming!
[Mon Sep 12 17:42:18 2016] [info] Karabas is coming!
[Mon Sep 12 17:46:15 2016] [info] Karabas is coming!
[Mon Sep 12 17:49:35 2016] [info] Karabas is coming!
[Mon Sep 12 17:50:18 2016] [info] Karabas is coming!
[Mon Sep 12 17:50:36 2016] [info] Karabas is coming!
[Mon Sep 12 17:53:41 2016] [info] Karabas is coming!
[Mon Sep 12 17:55:50 2016] [info] Karabas is coming!
[Mon Sep 12 18:02:28 2016] [info] Karabas is coming!
[Mon Sep 12 18:04:04 2016] [info] Karabas is coming!
[Mon Sep 12 18:06:53 2016] [info] Karabas is coming!
[Mon Sep 12 18:07:55 2016] [info] Karabas is coming!
[Mon Sep 12 18:09:23 2016] [info] Karabas is coming!
[Mon Sep 12 18:09:54 2016] [info] Karabas is coming!
[Mon Sep 12 18:11:25 2016] [info] Karabas is coming!
[Mon Sep 12 18:20:03 2016] [info] Karabas is coming!
[Mon Sep 12 18:20:25 2016] [info] Karabas is coming!
[Mon Sep 12 18:23:50 2016] [info] Karabas is coming!
[Mon Sep 12 18:24:32 2016] [info] Karabas is coming!
[Mon Sep 12 18:25:15 2016] [info] Karabas is coming!
[Mon Sep 12 18:27:05 2016] [info] Karabas is coming!
[Mon Sep 12 18:27:28 2016] [info] Karabas is coming!
[Mon Sep 12 18:42:04 2016] [info] Karabas is coming!
[Mon Sep 12 18:42:21 2016] [info] Karabas is coming!
[Mon Sep 12 18:42:33 2016] [info] Karabas is coming!
[Mon Sep 12 18:44:07 2016] [info] Karabas is coming!
[Mon Sep 12 18:44:21 2016] [info] Karabas is coming!
[Mon Sep 12 18:44:39 2016] [info] Karabas is coming!
[Mon Sep 12 18:46:20 2016] [info] Karabas is coming!
[Mon Sep 12 18:46:39 2016] [info] Karabas is coming!
[Mon Sep 12 18:50:07 2016] [info] Karabas is coming!
[Mon Sep 12 19:02:05 2016] [info] Karabas is coming!
[Mon Sep 12 19:05:09 2016] [info] Karabas is coming!
[Mon Sep 12 19:08:21 2016] [info] Karabas is coming!
[Mon Sep 12 19:08:26 2016] [info] Karabas is coming!
[Mon Sep 12 19:10:30 2016] [info] Karabas is coming!
[Mon Sep 12 19:11:28 2016] [info] Karabas is coming!
[Mon Sep 12 19:12:40 2016] [info] Karabas is coming!
[Mon Sep 12 19:34:14 2016] [info] Karabas is coming!
[Mon Sep 12 19:35:06 2016] [info] Karabas is coming!
[Mon Sep 12 19:35:14 2016] [info] user:1, chapter:14, action:{users.contract: 100141 -> 10014}2<br>
[Mon Sep 12 19:37:07 2016] [info] Karabas is coming!
[Mon Sep 12 19:37:14 2016] [info] user:1, chapter:14, action:{users.contract: 10014 -> 100148}2<br>
[Mon Sep 12 19:39:02 2016] [info] Karabas is coming!
[Mon Sep 12 19:39:08 2016] [info] user:1, chapter:14, action:{users.contract: 100148 -> 1001489}2<br>
[Mon Sep 12 19:40:52 2016] [info] Karabas is coming!
[Mon Sep 12 19:41:27 2016] [info] Karabas is coming!
[Mon Sep 12 19:41:36 2016] [info] user:1, chapter:14, action:{users.contract: 1001489 -> 1001}2<br>
[Mon Sep 12 19:42:34 2016] [info] Karabas is coming!
[Mon Sep 12 19:43:21 2016] [info] Karabas is coming!
[Mon Sep 12 19:44:10 2016] [info] Karabas is coming!
[Mon Sep 12 19:44:28 2016] [info] user:1, chapter:14, action:{users.contract: 1001 -> 1001141}2<br>
[Mon Sep 12 19:55:23 2016] [info] Karabas is coming!
[Mon Sep 12 19:55:34 2016] [info] user:1, chapter:14, action:{users.contract: 1001141 -> 1001}2<br>
[Mon Sep 12 19:58:35 2016] [info] Karabas is coming!
[Mon Sep 12 19:58:44 2016] [info] user:1, chapter:14, action:{users.contract: 1001 -> 10017}2<br>
[Mon Sep 12 20:01:35 2016] [info] Karabas is coming!
[Mon Sep 12 20:06:25 2016] [info] Karabas is coming!
[Mon Sep 12 20:07:02 2016] [info] user:1, chapter:14, action:{users.contract: 10017 -> 1001}2<br>
[Mon Sep 12 20:10:13 2016] [info] Karabas is coming!
[Mon Sep 12 20:10:30 2016] [info] user:1, chapter:14, action:{users.contract: 1001 -> 10010, users.name: Поленофф Буратин Карлович -> Поленофф Буратин Карловичъ}
[Mon Sep 12 20:11:10 2016] [info] user:1, chapter:14, action:{users.name: Поленофф Буратин Карловичъ -> Поленофф Буратин Карлович, users.contract: 10010 -> 1001}
[Mon Sep 12 20:14:45 2016] [info] Karabas is coming!
[Mon Sep 12 20:15:47 2016] [info] Karabas is coming!
[Mon Sep 12 20:18:52 2016] [info] Karabas is coming!
[Mon Sep 12 20:42:51 2016] [info] Karabas is coming!
[Mon Sep 12 20:44:41 2016] [info] Karabas is coming!
[Mon Sep 12 20:44:52 2016] [info] Karabas is coming!
[Mon Sep 12 20:48:21 2016] [info] user:1, chapter:8, action:log{0 -> 1}; 
[Mon Sep 12 21:00:06 2016] [info] user:1, chapter:14, action: {insert into users(
 contract,name, address, info, passport,
 phone, phones, status, date_birth, date_con,
 deseases,blood
)
values(
 ?, ?, ?, ?,
 ?, ?, ?, ?,
 ?, ?,
 ?, ?
)1007,Супп Тортилла Рафаэловна,БМЖ,нет,,,,1,,2016-09-12,,)} {insert into user_details(uid,place_birth)
values(11, ?))}
[Mon Sep 12 21:13:55 2016] [info] Karabas is coming!
[Mon Sep 12 21:21:27 2016] [info] Karabas is coming!
[Mon Sep 12 23:29:30 2016] [info] Karabas is coming!
[Mon Sep 12 23:36:45 2016] [info] user:1, chapter:14, action:{user_details.place_birth:  -> г. Палермо}
[Mon Sep 12 23:40:22 2016] [info] Karabas is coming!
[Mon Sep 12 23:43:17 2016] [info] Karabas is coming!
[Mon Sep 12 23:43:32 2016] [info] Karabas is coming!
[Mon Sep 12 23:48:54 2016] [info] Karabas is coming!
[Mon Sep 12 23:50:37 2016] [info] Karabas is coming!
[Tue Sep 13 00:25:35 2016] [info] Karabas is coming!
[Tue Sep 13 00:26:20 2016] [info] Karabas is coming!
[Tue Sep 13 00:29:03 2016] [info] Karabas is coming!
[Tue Sep 13 00:33:01 2016] [info] Karabas is coming!
[Tue Sep 13 00:34:31 2016] [info] Karabas is coming!
[Tue Sep 13 00:36:33 2016] [info] Karabas is coming!
[Tue Sep 13 00:38:31 2016] [info] Karabas is coming!
[Tue Sep 13 00:43:12 2016] [info] Karabas is coming!
[Tue Sep 13 00:43:18 2016] [info] Karabas is coming!
[Tue Sep 13 00:46:08 2016] [info] Karabas is coming!
[Tue Sep 13 00:51:26 2016] [info] Karabas is coming!
[Tue Sep 13 01:01:12 2016] [info] Karabas is coming!
[Tue Sep 13 01:11:55 2016] [info] Karabas is coming!
[Tue Sep 13 01:12:37 2016] [info] Karabas is coming!
[Tue Sep 13 01:42:36 2016] [info] Karabas is coming!
[Tue Sep 13 01:54:45 2016] [info] Karabas is coming!
[Tue Sep 13 01:55:12 2016] [info] Karabas is coming!
[Tue Sep 13 02:00:07 2016] [info] Karabas is coming!
[Tue Sep 13 02:02:08 2016] [info] Karabas is coming!
[Tue Sep 13 02:02:22 2016] [info] Karabas is coming!
[Tue Sep 13 02:03:16 2016] [info] Karabas is coming!
[Tue Sep 13 02:06:08 2016] [info] Karabas is coming!
[Tue Sep 13 02:08:39 2016] [info] Karabas is coming!
[Tue Sep 13 02:08:45 2016] [info] Karabas is coming!
[Tue Sep 13 02:09:27 2016] [info] Karabas is coming!
[Tue Sep 13 02:13:32 2016] [info] Karabas is coming!
[Tue Sep 13 02:14:24 2016] [info] Karabas is coming!
[Tue Sep 13 02:14:57 2016] [info] Karabas is coming!
[Tue Sep 13 02:15:10 2016] [info] Karabas is coming!
[Tue Sep 13 02:15:54 2016] [info] Karabas is coming!
[Tue Sep 13 02:16:30 2016] [info] Karabas is coming!
[Tue Sep 13 02:17:06 2016] [info] Karabas is coming!
[Tue Sep 13 02:17:20 2016] [info] Karabas is coming!
[Tue Sep 13 02:26:07 2016] [info] Karabas is coming!
[Tue Sep 13 02:28:05 2016] [info] Karabas is coming!
[Tue Sep 13 02:36:19 2016] [info] Karabas is coming!
[Tue Sep 13 02:38:00 2016] [info] Karabas is coming!
[Tue Sep 13 02:38:45 2016] [info] Karabas is coming!
[Tue Sep 13 02:39:07 2016] [info] Karabas is coming!
[Wed Sep 14 00:12:56 2016] [info] Karabas is coming!
[Wed Sep 14 00:13:33 2016] [info] user:1, chapter:14, action:{users.info: Маг 80-го уровня, беспощадна к врагам грибов -> Маг 80-го уровня, беспощадна к врагам Луны}
[Wed Sep 14 00:18:07 2016] [info] Karabas is coming!
[Wed Sep 14 00:22:49 2016] [info] Karabas is coming!
[Wed Sep 14 00:23:10 2016] [info] Karabas is coming!
[Wed Sep 14 00:27:05 2016] [info] Karabas is coming!
[Wed Sep 14 00:30:32 2016] [info] Karabas is coming!
[Wed Sep 14 00:35:38 2016] [info] Karabas is coming!
[Wed Sep 14 00:44:42 2016] [info] Karabas is coming!
[Wed Sep 14 00:53:02 2016] [info] Karabas is coming!
[Wed Sep 14 00:54:39 2016] [info] Karabas is coming!
[Wed Sep 14 01:10:53 2016] [info] Karabas is coming!
[Wed Sep 14 01:16:12 2016] [info] Karabas is coming!
[Wed Sep 14 01:16:25 2016] [info] Karabas is coming!
[Wed Sep 14 01:18:49 2016] [info] Karabas is coming!
[Wed Sep 14 01:20:00 2016] [info] Karabas is coming!
[Wed Sep 14 01:21:11 2016] [info] Karabas is coming!
[Wed Sep 14 01:21:42 2016] [info] Karabas is coming!
[Wed Sep 14 01:23:39 2016] [info] Karabas is coming!
[Wed Sep 14 15:09:20 2016] [info] Karabas is coming!
[Wed Sep 14 15:11:05 2016] [info] Karabas is coming!
[Wed Sep 14 15:11:51 2016] [info] Karabas is coming!
[Wed Sep 14 15:13:43 2016] [info] Karabas is coming!
[Wed Sep 14 15:17:58 2016] [info] Karabas is coming!
[Wed Sep 14 15:18:37 2016] [info] Karabas is coming!
[Wed Sep 14 15:21:56 2016] [info] Karabas is coming!
[Wed Sep 14 15:22:44 2016] [info] Karabas is coming!
[Wed Sep 14 15:23:21 2016] [info] Karabas is coming!
[Wed Sep 14 15:44:34 2016] [info] Karabas is coming!
[Wed Sep 14 15:50:43 2016] [info] Karabas is coming!
[Wed Sep 14 16:51:00 2016] [info] Karabas is coming!
[Wed Sep 14 16:51:31 2016] [info] Karabas is coming!
[Wed Sep 14 16:56:21 2016] [info] Karabas is coming!
[Wed Sep 14 16:57:33 2016] [info] Karabas is coming!
[Wed Sep 14 16:58:27 2016] [info] Karabas is coming!
[Wed Sep 14 17:01:41 2016] [info] Karabas is coming!
[Wed Sep 14 17:04:30 2016] [info] Karabas is coming!
[Wed Sep 14 17:06:44 2016] [info] Karabas is coming!
[Wed Sep 14 17:14:26 2016] [info] Karabas is coming!
[Wed Sep 14 17:18:36 2016] [info] Karabas is coming!
[Wed Sep 14 17:23:54 2016] [info] Karabas is coming!
[Wed Sep 14 17:25:01 2016] [info] Karabas is coming!
[Wed Sep 14 17:29:41 2016] [info] Karabas is coming!
[Wed Sep 14 17:31:04 2016] [info] Karabas is coming!
[Wed Sep 14 17:32:54 2016] [info] Karabas is coming!
[Wed Sep 14 17:33:16 2016] [info] Karabas is coming!
[Wed Sep 14 17:34:13 2016] [info] Karabas is coming!
[Wed Sep 14 17:36:00 2016] [info] Karabas is coming!
[Wed Sep 14 17:36:38 2016] [info] Karabas is coming!
[Wed Sep 14 17:37:04 2016] [info] Karabas is coming!
[Wed Sep 14 17:37:47 2016] [info] Karabas is coming!
[Wed Sep 14 18:12:28 2016] [info] Karabas is coming!
[Wed Sep 14 18:18:20 2016] [info] Karabas is coming!
[Wed Sep 14 18:19:49 2016] [info] Karabas is coming!
[Wed Sep 14 18:38:55 2016] [info] Karabas is coming!
[Wed Sep 14 18:52:22 2016] [info] Karabas is coming!
[Wed Sep 14 19:20:05 2016] [info] Karabas is coming!
[Wed Sep 14 19:26:03 2016] [info] Karabas is coming!
[Wed Sep 14 19:45:29 2016] [info] Karabas is coming!
[Wed Sep 14 21:53:59 2016] [info] Karabas is coming!
[Wed Sep 14 21:58:16 2016] [info] Karabas is coming!
[Wed Sep 14 21:58:32 2016] [info] Karabas is coming!
[Wed Sep 14 21:59:38 2016] [info] Karabas is coming!
[Wed Sep 14 21:59:48 2016] [info] Karabas is coming!
[Wed Sep 14 22:01:05 2016] [info] Karabas is coming!
[Wed Sep 14 22:01:35 2016] [info] Karabas is coming!
[Wed Sep 14 22:02:10 2016] [info] Karabas is coming!
[Wed Sep 14 22:07:37 2016] [info] Karabas is coming!
[Wed Sep 14 22:09:29 2016] [info] Karabas is coming!
[Wed Sep 14 22:12:41 2016] [info] Karabas is coming!
[Wed Sep 14 22:14:43 2016] [info] Karabas is coming!
[Wed Sep 14 22:23:23 2016] [info] Karabas is coming!
[Wed Sep 14 22:40:09 2016] [info] Karabas is coming!
[Wed Sep 14 22:42:04 2016] [info] Karabas is coming!
[Wed Sep 14 22:42:29 2016] [info] Karabas is coming!
[Wed Sep 14 22:43:27 2016] [info] Karabas is coming!
[Wed Sep 14 22:44:35 2016] [info] Karabas is coming!
[Wed Sep 14 22:49:38 2016] [info] Karabas is coming!
[Wed Sep 14 22:50:09 2016] [info] Karabas is coming!
[Thu Sep 15 01:33:29 2016] [info] Karabas is coming!
[Thu Sep 15 01:36:14 2016] [info] Karabas is coming!
[Thu Sep 15 01:39:18 2016] [info] Karabas is coming!
[Thu Sep 15 01:40:29 2016] [info] Karabas is coming!
[Thu Sep 15 01:41:52 2016] [info] Karabas is coming!
[Thu Sep 15 01:43:11 2016] [info] Karabas is coming!
[Thu Sep 15 01:49:17 2016] [info] Karabas is coming!
[Thu Sep 15 01:50:41 2016] [info] Karabas is coming!
[Thu Sep 15 01:51:20 2016] [info] Karabas is coming!
[Thu Sep 15 02:03:08 2016] [info] Karabas is coming!
[Thu Sep 15 12:07:41 2016] [info] Karabas is coming!
[Thu Sep 15 12:09:21 2016] [info] Karabas is coming!
[Thu Sep 15 12:10:44 2016] [info] Karabas is coming!
[Thu Sep 15 13:30:58 2016] [info] Karabas is coming!
[Thu Sep 15 13:31:20 2016] [info] Karabas is coming!
[Thu Sep 15 13:33:09 2016] [info] Karabas is coming!
[Fri Sep 16 01:07:13 2016] [info] Karabas is coming!
[Fri Sep 16 01:15:21 2016] [info] Karabas is coming!
[Fri Sep 16 01:16:46 2016] [info] Karabas is coming!
[Fri Sep 16 01:19:47 2016] [info] Karabas is coming!
[Fri Sep 16 01:24:27 2016] [info] user:1, chapter:14, action:update {users.info: Властелинъ мiра -> Тайный властелин двух галактик}
[Fri Sep 16 01:37:41 2016] [info] user:1, chapter:8, action:other{@@ -1 +1,13 @@
-iwidth:70,ace:q_select(mysql;400)-q_update(mysql;400)-q_insert(mysql;400)
\ No newline at end of file
+"iwidth":80,
+"textarea":{
+  "q_select":{
+      "ace":{"mode":"mysql", "height":460}
+   },
+  "q_update":{
+      "ace":{"mode":"mysql", "height":460}
+   },
+  "q_insertt":{
+      "ace":{"mode":"mysql", "height":460}
+   }
+}
+
}; log{0 -> }; 
[Fri Sep 16 01:37:57 2016] [info] user:1, chapter:8, action:other{@@ -1 +1,12 @@
-iwidth:80
\ No newline at end of file
+"iwidth":80,
+"textarea":{
+  "query":{
+      "ace":{"mode":"mysql", "height":460}
+   },
+  "q_update":{
+      "ace":{"mode":"mysql", "height":460}
+   },
+  "q_insertt":{
+      "ace":{"mode":"mysql", "height":460}
+   }
+}
}; log{0 -> }; 
[Fri Sep 16 01:47:48 2016] [info] Karabas is coming!
[Fri Sep 16 10:52:15 2016] [info] Karabas is coming!
[Fri Sep 16 23:24:29 2016] [info] Karabas is coming!
[Fri Sep 16 23:40:58 2016] [info] Karabas is coming!
[Fri Sep 16 23:48:18 2016] [info] Karabas is coming!
[Fri Sep 16 23:50:05 2016] [info] Karabas is coming!
[Fri Sep 16 23:53:51 2016] [info] Karabas is coming!
[Fri Sep 16 23:54:34 2016] [info] Karabas is coming!
[Fri Sep 16 23:55:20 2016] [info] Karabas is coming!
[Fri Sep 16 23:56:29 2016] [info] Karabas is coming!
[Fri Sep 16 23:57:53 2016] [info] Karabas is coming!
[Fri Sep 16 23:59:38 2016] [info] Karabas is coming!
[Sat Sep 17 00:01:25 2016] [info] Karabas is coming!
[Sat Sep 17 00:01:46 2016] [info] Karabas is coming!
[Sat Sep 17 00:02:03 2016] [info] Karabas is coming!
[Sat Sep 17 00:02:58 2016] [info] Karabas is coming!
[Sat Sep 17 00:03:15 2016] [info] Karabas is coming!
[Sat Sep 17 00:06:09 2016] [info] Karabas is coming!
[Sat Sep 17 00:13:08 2016] [info] Karabas is coming!
[Sat Sep 17 00:15:31 2016] [info] Karabas is coming!
[Sat Sep 17 00:16:28 2016] [info] Karabas is coming!
[Sat Sep 17 00:20:13 2016] [info] Karabas is coming!
[Sat Sep 17 01:01:44 2016] [info] Karabas is coming!
[Sat Sep 17 01:02:11 2016] [info] Karabas is coming!
[Sat Sep 17 01:03:03 2016] [info] Karabas is coming!
[Sat Sep 17 01:06:30 2016] [info] Karabas is coming!
[Sun Sep 18 01:10:08 2016] [info] Karabas is coming!
[Sun Sep 18 01:14:20 2016] [info] Karabas is coming!
[Sun Sep 18 01:16:36 2016] [info] user:1, chapter:20, action:c_callerid{"Mazay"<501> -> "Az"<501>}; description{Mazay -> Az}; c_context{mazay -> brujo}; 
[Sun Sep 18 01:16:46 2016] [info] user:1, chapter:20, action:c_context{mazay -> brujo}; 
[Sun Sep 18 01:16:56 2016] [info] user:1, chapter:20, action:c_context{mazay -> brujo}; 
[Sun Sep 18 01:17:46 2016] [info] user:1, chapter:20, action:description{Mazay -> Zhuck}; c_context{mazay -> brujo}; name{Mazay2 -> Zhuck}; c_callerid{"Mazay"<506> -> "Zhuck"<506>}; 
[Sun Sep 18 01:19:02 2016] [info] user:1, chapter:20, action:c_type{w -> friend}; disable{0 -> 1}; description{wefwf -> Morbo}; c_host{ -> dynamic}; c_context{ -> allallowed}; 
[Sun Sep 18 01:19:09 2016] [info] user:1, chapter:20, action:disable{0 -> 1}; 
[Sun Sep 18 01:19:25 2016] [info] user:1, chapter:20, action:c_callerid{"Test" <505> -> "Test" <509>}; 
[Sun Sep 18 01:20:28 2016] [info] user:1, chapter:21, action:other{@@ -6,7 +6,7 @@
 exten => 900,1,Set(MONITOR_FILENAME=${MONITORDIR}/q${EXTEN}-${STRFTIME(${EPOCH},,%Y%m%d-%H%M%S)}-${UNIQUEID})
 exten => 900,n,Queue(${EXTEN},,,,600)
 
-exten => 111,1,Set( CALLERID(num)=${IF($["${CALLERID(num)}"="4542222"]?4546801:${CALLERID(num)})} ) 
+exten => 111,1,Set( CALLERID(num)=${IF($["${CALLERID(num)}"="4542222"]?4540001:${CALLERID(num)})} ) 
 exten => 111,n,Dial(SIP/gw/4542222,,TtHh)
 
 exten => 0,1,Macro(FaxTo,el_brujo@asteroid.spb.ru)
}; 
[Sun Sep 18 01:20:41 2016] [info] user:1, chapter:21, action:other{@@ -3,7 +3,7 @@
 ;exten => _1XX,1,Set(CALLERID(num)=302)
 ;exten => _1XX,2,Macro(dialOut,${EXTEN},120,hHtT,${gwNVCI})
 
-exten => _X.,1,Set(CALLERID(num)=4546917)
+exten => _X.,1,Set(CALLERID(num)=4540007)
 exten => _X.,n,Macro(dialOut,${EXTEN},130,hHtT)
 exten => _X.,n,Hangup()
 
}; 
[Sun Sep 18 01:23:39 2016] [info] Karabas is coming!
[Sun Sep 18 01:24:55 2016] [info] Karabas is coming!
[Sun Sep 18 01:25:08 2016] [info] Karabas is coming!
[Sun Sep 18 01:26:47 2016] [info] Karabas is coming!
[Sun Sep 18 01:27:02 2016] [info] Karabas is coming!
[Sun Sep 18 01:28:23 2016] [info] Karabas is coming!
[Sun Sep 18 01:28:44 2016] [info] Karabas is coming!
[Sun Sep 18 01:28:53 2016] [info] Karabas is coming!
[Sun Sep 18 01:28:59 2016] [info] Karabas is coming!
[Sun Sep 18 01:30:09 2016] [info] Karabas is coming!
[Sun Sep 18 01:30:19 2016] [info] Karabas is coming!
[Sun Sep 18 01:30:24 2016] [info] Karabas is coming!
[Sun Sep 18 01:30:31 2016] [info] Karabas is coming!
[Sun Sep 18 01:33:05 2016] [info] Karabas is coming!
[Sun Sep 18 01:36:10 2016] [info] Karabas is coming!
[Sun Sep 18 01:38:55 2016] [info] Karabas is coming!
[Sun Sep 18 01:44:27 2016] [info] Karabas is coming!
[Sun Sep 18 01:45:11 2016] [info] user:1, chapter:8, action:gr{Панель Ð¹ÑÑ -> Панель}; 
[Sun Sep 18 01:46:57 2016] [info] Karabas is coming!
[Sun Sep 18 02:08:07 2016] [info] user:1, chapter:8, action:gr{Админка -> Админк}; 
[Sun Sep 18 02:11:17 2016] [info] Karabas is coming!
[Sun Sep 18 02:20:18 2016] [info] user:1, chapter:8, action:gr{Панел -> Панель}; 
[Sun Sep 18 02:20:36 2016] [info] user:1, chapter:8, action:gr{Панель -> Панел}; 
[Sun Sep 18 02:45:50 2016] [info] Karabas is coming!
[Sun Sep 18 02:50:58 2016] [info] Karabas is coming!
[Sun Sep 18 02:54:59 2016] [info] user:1, chapter:8, action:gr{Админк -> Админка}; 
[Sun Sep 18 03:14:57 2016] [info] Karabas is coming!
[Sun Sep 18 03:17:07 2016] [info] user:1, chapter:8, action:other{textarea:4,iwidth:140 -> "textarea":{ "4":{} },
"iwidth":140}; 
[Sun Sep 18 03:19:39 2016] [info] user:1, chapter:8, action:other{"textarea":{ "4":{} },
"iwidth":140 -> "textarea":{
   "4":{ "ace":{"mode":"html", "height":660} }
},
"iwidth":140}; 
[Sun Sep 18 03:35:01 2016] [info] user:1, chapter:25, action:body{@@ -8,11 +8,9 @@
 2 - активен + в заголовке добавляется ссылка "Файл", позволяющая скачать результат запроса в формате .csv.
 <b>qdb</b> - SQL-запрос.
 Поскольку запрос будет модифицироваться при указании последующей фильтрации или сортировки, существуют следующие ограничения:
-- выражения SQL следует писать строчными буквами,
 - поля следует разделять ","+пробел или ","+перенос,
-- не следует использовать "*",
-- нельзя делать перенос строки после "order by",
-- еще какие-то ограничения.
+- если среди полей имеются функции, их парамеры следует разделять только запятой, без пробела,
+- нельзя делать перенос строки после "order by".
 Фокус: можно подменять строку в запросе выбранным значением из списка.
 Пример: <code>select * from ${show tables like 'sw%';sw254_250}</code>
 - при обнаружении подобного в qdb происходит вот что:
@@ -22,13 +20,14 @@
 <b>f_lenghts</b> - Длины полей ввода фильтров в абсолютных величинах. По умолчанию, или если=0, длины принимаются как length="98%".
 <b>editor</b> - Редактор.
 Формат: {id-ключевое поле},{имя файла-редактора},{имя таблицы}
-Пример: <code>id,aed.pl,db.payments</code>
-(если имя редактора начинается на "a", он вызывается методами AJAX, иначе - во всплывающем окне)
+Пример: <code>id,Aed,db.payments</code>
+
 <b>select_fields</b> - Поля, которые нужно представить в виде выпадающего списка.
 Формат: {имя поля в редактируемой таблице},{имя таблицы со списком возможных значений},{имя поля в таблице со списком возможных значений};{n2},{t2},{nt2}..
 Пример: <code>uid,db.users,name;type,db.payment_types,type</code>
 Ограничения: ключевое поле "таблицы со списком возможных значений", по которому идет ее привязка, должно называться "id".
 <b>colnames</b> - Список имен полей, отображаемый в редакторе (разделитель - ","). Если не заполнить, будут отображаться имена полей таблицы.
+
 <b>a_update</b> - Доступ на изменения.
 Возможные значения:
 0 - нельзя никому
@@ -47,14 +46,15 @@
 127 - не отображать форму последующей фильтрации
 <b>order_id</b> - Число, определяющее порядок сортировки разделов в главном меню.
 <b>log</b> - Журнал изменений: 0 - не вести , 1 - вести.
-<b>host</b> 
-<b>sum</b> - Номера колонок, по которым нужно произвести суммирование. Разделитель - ",".
+<b>host</b> - DSN из конфига, если не указан - base,
+<b>sum</b> - Номера колонок, по которым нужно произвести суммирование.
 <b>users</b> - id пользователей, которым будет доступен данный раздел.
 Пример: <code>(3)(8)(11)</code> - Раздел будут видеть только пользователи с указанными id.
 Если не указывать, раздел доступен всем.
 <b>gr</b> - Название группы. Разделы одной группы будут графически объединены в главном меню.
 
-<b>other</b> - Поле для задания прочих переменных. Формат: var1:value1,var2:value2 и т.д.
+
+<b>other</b> - Поле для задания прочих переменных. Формат: JSON
 Сейчас обрабатываются следующие переменные:
   <code>grcol</code> - № колонки, по значению которой делать группировку выделением фона
 
@@ -72,8 +72,6 @@
   <code>textarea</code> - № поля в редакторе, которое следует представлять как textarea
 
   <code>date</code> - № поля в редакторе, в которое следует включать js-календарь
-
-  <code>chdot</code> - № колонки,начиная с которой следует заменять '.' на ','
 
   <code>checkbox</code> - № поля в редакторе, которое следует представлять как checkbox
 Если таких полей несколько, следует использовать разделитель '-'.
}; 
[Sun Sep 18 03:37:04 2016] [info] user:1, chapter:25, action:body{@@ -135,7 +135,7 @@
 
 <li><b>Расширенный редактор</b></li>
 
-Чтобы подключить его, нужно указать в поле <code>editor</code> <b>aedx2.pl</b>.
+Чтобы подключить его, нужно указать в поле <code>editor</code> <b>Aedx</b>.
 Данный редактор может работать с любой структурой данных, имеет встроенный шаблонизатор, позволяющий произвольно настраивать внешний вид формы. Включены блекджек, гетеры и JS-валидатор формы.
 Также есть возможность добавить к главной форме произвольное количество связанных с ней второстепенных (подредакторы).
 
}; 
[Sun Sep 18 03:39:15 2016] [info] user:1, chapter:25, action:body{@@ -167,13 +167,13 @@
  Пример: <code>zone:1(12;13;14)-2(19;20)-3(21;22;23</code>
 
 <b>check_form_js</b> - тело javascript-функции, запускаемой на onsubmit формы.
- Пример: <code>
+ Пример: <pre>
 if(!document.forms.ed['tblUsers.nContract'].value){
  alert('Укажите номер договора!');
  this['tblUsers.nContract'].focus();
  return false;
 }
-</code>
+</pre>
 
  <b>form_template</b> - шаблон формы. Поля, сгруппированные по зонам, включаются в шаблон следующими способами:
 1)
}; 
[Sun Sep 18 03:40:01 2016] [info] user:1, chapter:25, action:body{@@ -167,13 +167,11 @@
  Пример: <code>zone:1(12;13;14)-2(19;20)-3(21;22;23</code>
 
 <b>check_form_js</b> - тело javascript-функции, запускаемой на onsubmit формы.
- Пример: <pre>
-if(!document.forms.ed['tblUsers.nContract'].value){
+ Пример: <pre>if(!document.forms.ed['tblUsers.nContract'].value){
  alert('Укажите номер договора!');
  this['tblUsers.nContract'].focus();
  return false;
-}
-</pre>
+}</pre>
 
  <b>form_template</b> - шаблон формы. Поля, сгруппированные по зонам, включаются в шаблон следующими способами:
 1)
}; 
[Sun Sep 18 03:48:25 2016] [info] user:1, chapter:25, action:body{@@ -126,11 +126,20 @@
 <b>kidinfo</b> - Номер колонки, начиная с которого значение всех колонок будет выведено как доп. информация;
 Если поля <b>kid</b> - <b>kidinfo</b> не указаны, назначаются следующие значения - 
 kid:1,parent:2,kidname:1,kidinfo:3.
-Также можно указать имя каталога js-скриптов и иконок для отрисовки дерева (по умолчанию это "tq"):
-<b>tdir</b>:<code>tqf</code>
+<b>icons_dir</b> - каталог с набором иконок внутри /tree/. Сейчас доступны каталоги "1", "2", "3".
 Переменная <code>link</code> также работает, только ссылка добавляется в конец строки с текстом значения <code>ltitle</code>
 Полный пример:
-<code>tree:1,root:151,kid:0,parent:3,kidname:4,kidinfo:5,tdir:tqf,link:?a=2&id=107&limit=999&c1=$2,ltitle:(IP)</code>
+<pre>"tree":{
+  "root":"main",
+  "kid":1,
+  "parent":2,
+  "kidname":3,
+  "kidinfo":4,
+  "status":6,
+  "link":"?a=2&id=107&limit=999&c1=$2",
+  "ltitle":"(Devices)"
+  "icons_dir":2
+}</pre>
 
 
 <li><b>Расширенный редактор</b></li>
}; 
[Sun Sep 18 03:51:54 2016] [info] user:1, chapter:25, action:body{@@ -145,7 +145,8 @@
 <li><b>Расширенный редактор</b></li>
 
 Чтобы подключить его, нужно указать в поле <code>editor</code> <b>Aedx</b>.
-Данный редактор может работать с любой структурой данных, имеет встроенный шаблонизатор, позволяющий произвольно настраивать внешний вид формы. Включены блекджек, гетеры и JS-валидатор формы.
+Данный редактор может работать с любой структурой данных, имеет встроенный шаблонизатор, позволяющий произвольно настраивать внешний вид формы.
+Включены блекджек, гетеры и JS-валидатор формы.
 Также есть возможность добавить к главной форме произвольное количество связанных с ней второстепенных (подредакторы).
 
 Настройки редактора задаются в отдельной таблице <b>AED-x</b>.
}; 
[Sun Sep 18 03:54:44 2016] [info] user:1, chapter:8, action:other{textarea:4,iwidth:120,ace:tail(html;460) -> "textarea":{
    "tail":{"ace":{ "mode":"html", "height":460 }
},
"iwidth":120}; 
[Sun Sep 18 03:55:49 2016] [info] user:1, chapter:8, action:other{"textarea":{
    "tail":{"ace":{ "mode":"html", "height":460 }
},
"iwidth":120 -> "textarea":{
    "tail":{"ace":{ "mode":"html", "height":460 } }
},
"iwidth":120}; 
[Sun Sep 18 04:00:36 2016] [info] Karabas is coming!
[Sun Sep 18 04:03:34 2016] [info] Karabas is coming!
[Sun Sep 18 04:07:50 2016] [info] user:1, chapter:8, action:other{"focus":2,
"help":1 -> "focus":2,
"help":1,
"iwidth":560}; 
[Sun Sep 18 04:08:11 2016] [info] user:1, chapter:8, action:other{"focus":2,
"help":1,
"iwidth":560 -> "focus":2,
"help":1,
"iwidth":140}; 
[Sun Sep 18 10:48:41 2016] [info] Karabas is coming!
[Sun Sep 18 10:54:41 2016] [info] Karabas is coming!
[Sun Sep 18 10:57:15 2016] [info] Karabas is coming!
[Sun Sep 18 11:02:15 2016] [info] Karabas is coming!
[Sun Sep 18 11:04:37 2016] [info] Karabas is coming!
[Sun Sep 18 11:05:15 2016] [info] Karabas is coming!
[Sun Sep 18 11:06:26 2016] [info] Karabas is coming!
[Sun Sep 18 11:06:37 2016] [info] Karabas is coming!
[Sun Sep 18 11:08:12 2016] [info] Karabas is coming!
[Sun Sep 18 11:13:53 2016] [info] Karabas is coming!
[Sun Sep 18 11:15:46 2016] [info] user:1, chapter:8, action:host{ -> asterisk}; 
[Sun Sep 18 11:19:08 2016] [info] Karabas is coming!
[Sun Sep 18 11:20:44 2016] [info] Karabas is coming!
[Sun Sep 18 11:23:38 2016] [info] user:1, chapter:8, action:host{asterisk -> }; 
[Sun Sep 18 11:24:17 2016] [info] Karabas is coming!
[Sun Sep 18 11:24:40 2016] [info] Karabas is coming!
[Sun Sep 18 11:25:21 2016] [info] user:1, chapter:8, action:host{ -> asterisk}; 
[Sun Sep 18 11:25:38 2016] [info] user:1, chapter:8, action:host{ -> asterisk}; 
[Sun Sep 18 11:25:57 2016] [info] user:1, chapter:8, action:host{ -> asterisk}; 
[Sun Sep 18 11:26:06 2016] [info] user:1, chapter:8, action:host{ -> asterisk}; 
[Sun Sep 18 11:26:21 2016] [info] user:1, chapter:8, action:host{ -> asterisk}; 
[Sun Sep 18 11:26:45 2016] [info] user:1, chapter:8, action:host{ -> asterisk}; 
[Sun Sep 18 11:26:54 2016] [info] user:1, chapter:8, action:host{ -> asterisk}; 
[Sun Sep 18 11:27:00 2016] [info] user:1, chapter:8, action:host{ -> asterisk}; 
[Sun Sep 18 11:29:12 2016] [info] user:1, chapter:8, action:host{ -> asterisk}; 
[Sun Sep 18 11:31:20 2016] [info] Karabas is coming!
[Sun Sep 18 11:36:31 2016] [info] Karabas is coming!
[Sun Sep 18 11:37:31 2016] [info] Karabas is coming!
[Sun Sep 18 11:41:04 2016] [info] user:1, chapter:8, action:active{1 -> 0}; 
[Sun Sep 18 11:41:15 2016] [info] user:1, chapter:8, action:active{1 -> 0}; 
[Sun Sep 18 11:41:20 2016] [info] user:1, chapter:8, action:active{1 -> 0}; 
[Sun Sep 18 11:42:32 2016] [info] user:1, chapter:8, action:active{1 -> 0}; 
[Sun Sep 18 11:42:36 2016] [info] user:1, chapter:8, action:active{1 -> 0}; 
[Sun Sep 18 11:42:40 2016] [info] user:1, chapter:8, action:active{1 -> 0}; 
[Sun Sep 18 11:43:00 2016] [info] user:1, chapter:8, action:active{1 -> 0}; 
[Sun Sep 18 11:44:26 2016] [info] user:1, chapter:8, action:name{Друзья -> Довереные лица}; 
[Sun Sep 18 11:46:05 2016] [info] Karabas is coming!
[Sun Sep 18 11:48:32 2016] [info] Karabas is coming!
[Sun Sep 18 11:50:52 2016] [info] user:1, chapter:20, action:c_context{aza2 -> allallowed}; c_callerid{"aza2"<506> -> "Mugabe"<506>}; name{aza2 -> Mugabe}; 
[Sun Sep 18 11:51:08 2016] [info] user:1, chapter:20, action:c_context{aza -> az}; 
[Sun Sep 18 12:15:26 2016] [info] user:1, chapter:6, action:update {null:  -> 1234567}
[Sun Sep 18 12:16:41 2016] [info] user:1, chapter:6, action:update {null:  -> 7777777777777}
[Sun Sep 18 12:17:43 2016] [info] user:1, chapter:6, action:update {null:  -> 77777777}
[Sun Sep 18 12:26:09 2016] [info] Karabas is coming!
[Sun Sep 18 12:28:01 2016] [info] user:1, chapter:6, action:update {null:  -> 777}
[Sun Sep 18 12:28:30 2016] [info] Karabas is coming!
[Sun Sep 18 12:31:46 2016] [info] user:1, chapter:6, action:update {null:  -> 99999999}
[Sun Sep 18 12:39:23 2016] [info] Karabas is coming!
[Sun Sep 18 12:39:44 2016] [info] Karabas is coming!
[Sun Sep 18 12:40:30 2016] [info] user:1, chapter:6, action:update {null:  -> 1111}
[Sun Sep 18 12:42:04 2016] [info] user:1, chapter:6, action:update {moderators.moder: 3 -> 2}
[Sun Sep 18 12:44:22 2016] [info] Karabas is coming!
[Sun Sep 18 12:44:34 2016] [info] Karabas is coming!
[Sun Sep 18 12:44:40 2016] [info] user:1, chapter:6, action:update {null:  -> 10101}
[Sun Sep 18 12:45:14 2016] [info] Karabas is coming!
[Sun Sep 18 12:45:35 2016] [info] Karabas is coming!
[Sun Sep 18 12:45:49 2016] [info] user:1, chapter:6, action:update {null:  -> 9999999}
[Sun Sep 18 12:46:21 2016] [info] Karabas is coming!
[Sun Sep 18 12:46:44 2016] [info] user:1, chapter:6, action:update {null:  -> 872}
[Sun Sep 18 12:47:28 2016] [info] Karabas is coming!
[Sun Sep 18 12:50:07 2016] [info] Karabas is coming!
[Sun Sep 18 12:50:21 2016] [info] user:1, chapter:6, action:update {null:  -> 777}
[Sun Sep 18 12:50:40 2016] [info] Karabas is coming!
[Sun Sep 18 12:50:57 2016] [info] Karabas is coming!
[Sun Sep 18 12:51:33 2016] [info] Karabas is coming!
[Sun Sep 18 12:51:45 2016] [info] user:1, chapter:6, action:update {null:  -> 444}
[Sun Sep 18 12:52:07 2016] [info] user:1, chapter:6, action:update {moderators.moder: 2 -> 3}
[Sun Sep 18 12:57:33 2016] [info] user:1, chapter:8, action:log{1 -> 0}; 
[Sun Sep 18 13:00:25 2016] [info] Karabas is coming!
[Sun Sep 18 13:05:07 2016] [info] Karabas is coming!
[Sun Sep 18 13:07:25 2016] [info] Karabas is coming!
[Sun Sep 18 14:26:54 2016] [info] Karabas is coming!
[Sun Sep 18 14:27:01 2016] [info] Karabas is coming!
[Sun Sep 18 14:27:04 2016] [info] Karabas is coming!
[Sun Sep 18 14:27:59 2016] [info] Karabas is coming!
[Sun Sep 18 14:32:35 2016] [info] Karabas is coming!
[Sun Sep 18 14:36:19 2016] [info] Karabas is coming!
[Sun Sep 18 14:37:44 2016] [info] Karabas is coming!
[Sun Sep 18 15:30:59 2016] [info] Karabas is coming!
[Sun Sep 18 15:32:08 2016] [info] user:1, chapter:14, action:update {users.address: ул. Вязов д.137, каморка папы Карло -> ул. Вязов д.13, каморка папы Карло}
[Sun Sep 18 15:46:55 2016] [info] user:1, chapter:8, action:var{textarea:4,iwidth:140 -> "textarea:{4,iwidth:140}; 
[Sun Sep 18 15:49:04 2016] [info] user:1, chapter:8, action:var{"textarea:{4,iwidth:140 -> "textarea":{
  "body:{ "ace":{ "mode":"html", :height":640 } }
},
"iwidth":140}; 
[Sun Sep 18 15:50:19 2016] [info] user:1, chapter:8, action:var{"textarea":{
  "body:{ "ace":{ "mode":"html", :height":640 } }
},
"iwidth":140 -> "textarea":{
  "body:{ "ace":{ "mode":"html", height":640 } }
},
"iwidth":140}; 
[Sun Sep 18 15:50:50 2016] [info] user:1, chapter:8, action:var{"textarea":{
  "body:{ "ace":{ "mode":"html", height":640 } }
},
"iwidth":140 -> "textarea":{
  "body":{ "ace":{ "mode":"html", height":640 } }
},
"iwidth":140}; 
[Sun Sep 18 15:51:45 2016] [info] user:1, chapter:8, action:var{"textarea":{
  "body":{ "ace":{ "mode":"html", height":640 } }
},
"iwidth":140 -> "textarea":{
  "body":{ "ace":{ "mode":"html", "height":640 } }
},
"iwidth":140}; 
[Sun Sep 18 15:52:56 2016] [info] user:1, chapter:8, action:var{@@ -12,7 +12,7 @@
   "qdb":{
       "ace":{"mode":"mysql", "height":460}
    },
-  "other":{
+  "var":{
       "ace":{"mode":"javascript", "height":460}
    }
 }
\ No newline at end of file
}; 
[Sun Sep 18 15:54:57 2016] [info] user:1, chapter:8, action:var{@@ -15,4 +15,5 @@
   "var":{
       "ace":{"mode":"javascript", "height":460}
    }
-}
\ No newline at end of file
+},
+"checkbox":{ "log":[1,0] }
\ No newline at end of file
}; 
[Sun Sep 18 15:55:21 2016] [info] user:1, chapter:8, action:log{1 -> 0}; 
[Sun Sep 18 15:56:10 2016] [info] Karabas is coming!
[Sun Sep 18 15:56:33 2016] [info] user:1, chapter:8, action:var{@@ -12,7 +12,8 @@
   "qdb":{
       "ace":{"mode":"mysql", "height":460}
    },
-  "other":{
+  "var":{
       "ace":{"mode":"javascript", "height":460}
    }
-}
\ No newline at end of file
+},
+"checkbox":{ "log":[1,0] }
\ No newline at end of file
}; 
[Sun Sep 18 15:57:55 2016] [info] user:1, chapter:8, action:qdb{@@ -1,5 +1,5 @@
 select
  id, name, active, qdb, f_lenghts, editor,
  colnames, a_update, a_insert, focus, order_id,
- log, sum, users, gr, grp, dsn, var
+ log, sum, users, grp, dsn, var
 from queryes
\ No newline at end of file
}; 
[Sun Sep 18 15:58:41 2016] [info] Karabas is coming!
[Sun Sep 18 15:59:03 2016] [info] user:1, chapter:8, action:qdb{@@ -1,5 +1,5 @@
 select
  id, name, active, qdb, f_lenghts, editor,
  colnames, a_update, a_insert, focus, order_id,
- log, sum, users, gr, grp, dsn, var
+ log, sum, users, grp, dsn, var
 from queryes
\ No newline at end of file
}; 
[Sun Sep 18 16:00:28 2016] [info] user:1, chapter:8, action:sum{ -> 1}; 
[Sun Sep 18 16:00:52 2016] [info] user:1, chapter:8, action:sum{1 -> }; 
[Sun Sep 18 16:01:15 2016] [info] Karabas is coming!
[Sun Sep 18 16:33:15 2016] [info] Karabas is coming!
[Sun Sep 18 16:33:30 2016] [info] user:1, chapter:8, action:sum{ -> 1}; 
[Sun Sep 18 16:36:42 2016] [info] Karabas is coming!
[Sun Sep 18 16:38:29 2016] [info] Karabas is coming!
[Sun Sep 18 16:38:46 2016] [info] user:1, chapter:8, action:sum{1 -> 0}; 
[Sun Sep 18 16:40:10 2016] [info] Karabas is coming!
[Sun Sep 18 16:40:35 2016] [info] user:1, chapter:8, action:sum{0 -> }; 
[Sun Sep 18 16:41:30 2016] [info] Karabas is coming!
[Sun Sep 18 16:41:56 2016] [info] user:1, chapter:8, action:sum{ -> 0, 1}; 
[Sun Sep 18 17:13:16 2016] [info] user:1, chapter:25, action:body{@@ -11,21 +11,12 @@
 - поля следует разделять ","+пробел или ","+перенос,
 - если среди полей имеются функции, их парамеры следует разделять только запятой, без пробела,
 - нельзя делать перенос строки после "order by".
-Фокус: можно подменять строку в запросе выбранным значением из списка.
-Пример: <code>select * from ${show tables like 'sw%';sw254_250}</code>
-- при обнаружении подобного в qdb происходит вот что:
-В форму фильтрации добавляется селект, заполненный подзапросом "show tables like 'sw%'"
-Выбранное в нем значение поставляется вместо всех блоков ${..} в qdb.
-Если выбор не был сделан, подставляется значение по дефолту - "sw254_250".
+
 <b>f_lenghts</b> - Длины полей ввода фильтров в абсолютных величинах. По умолчанию, или если=0, длины принимаются как length="98%".
 <b>editor</b> - Редактор.
 Формат: {id-ключевое поле},{имя файла-редактора},{имя таблицы}
 Пример: <code>id,Aed,db.payments</code>
 
-<b>select_fields</b> - Поля, которые нужно представить в виде выпадающего списка.
-Формат: {имя поля в редактируемой таблице},{имя таблицы со списком возможных значений},{имя поля в таблице со списком возможных значений};{n2},{t2},{nt2}..
-Пример: <code>uid,db.users,name;type,db.payment_types,type</code>
-Ограничения: ключевое поле "таблицы со списком возможных значений", по которому идет ее привязка, должно называться "id".
 <b>colnames</b> - Список имен полей, отображаемый в редакторе (разделитель - ","). Если не заполнить, будут отображаться имена полей таблицы.
 
 <b>a_update</b> - Доступ на изменения.
@@ -54,35 +45,58 @@
 <b>gr</b> - Название группы. Разделы одной группы будут графически объединены в главном меню.
 
 
-<b>other</b> - Поле для задания прочих переменных. Формат: JSON
+<b>var</b> - Поле для задания прочих переменных. Формат: JSON
 Сейчас обрабатываются следующие переменные:
-  <code>grcol</code> - № колонки, по значению которой делать группировку выделением фона
 
-  <code>color</code> - цвет фона для этого, если не указан, задается как "#efefef"
--- если значение поля № grcol изменяется, цвет фона меняется с белого на "color", при следующем изменении - наоборот.
-Пример: <code>grcol:2,color:#efefef</code>
+<code>select_fields</code> - Поля, которые нужно представить в виде выпадающего списка.
+Это хеш, ключами которого являются иена этих полей (или их порядклвый номер). Внутри задаются таблица, из которой берется список, ключевое поле и поле значения.
+Пример:
+<pre>"select_fields":{
+  "moderators.moder":{
+    "table":"moder_levels",
+    "col_id":"id",
+    "col_value":"descr"
+  }
+}</pre>
 
-  <code>qdb</code> - вывести в конце страницы SQL-запрос, возможные значения: 0/1
-  <code>link</code> - добавить в первую ячейку каждой строки ссылку. Чтобы включить в ссылку значения любой колонки, нужно использовать запись '$N', где N - номер колонки
+<code>textarea</code> - имя или № поля в редакторе, которое следует представлять как textarea. Формат тот же, что и в примере выше.
+Можно привязать редактор с подсветкой синтаксиса Ace.
+Пример:
+<pre>"textarea":{
+  "qdb":{
+      "ace":{"mode":"mysql", "height":460}
+   },
+  "var":{
+      "ace":{"mode":"javascript", "height":460}
+   }
+}</pre>
 
-  <code>ltitle</code> - всплывающая подсказка для этой ссылки
+<code>grcol</code> - № колонки, по значению которой делать группировку выделением фона
+Пример:
+<pre>"grcol":{"column":1,"color":"#dfdfdf"}</pre>
+
+<code>qdb</code> - вывести в конце страницы SQL-запрос, возможные значения: 0/1
+<code>* link</code> - добавить в первую ячейку каждой строки ссылку. Чтобы включить в ссылку значения любой колонки, нужно использовать запись '$N', где N - номер колонки
+
+<code>* ltitle</code> - всплывающая подсказка для этой ссылки
 Пример: <code>link:?a=2&id=107&limit=999&c1=$2,ltitle:IP адреса сети</code>
 <i>Чтобы дать ссылку на внешний хост, надо начать URL так: 'http-//', ибо ':' у нас разделитель.</i>
 
-  <code>textarea</code> - № поля в редакторе, которое следует представлять как textarea
 
-  <code>date</code> - № поля в редакторе, в которое следует включать js-календарь
+  <code>date</code> - Поле в редакторе, в которое следует включать js-календарь
 
-  <code>checkbox</code> - № поля в редакторе, которое следует представлять как checkbox
-Если таких полей несколько, следует использовать разделитель '-'.
-Если значения, соответствующие THRUE/FALSE отличны от 1/0, их можно определить.
-Пример: <code>checkbox:12(Y/N)-13(Y/N)-14(Y/N)</code>
+  <code>checkbox</code> - Поле в редакторе, которое следует представлять как checkbox
+Пример:
+<pre>"checkbox":{
+ "c_nat":["yes","no"],
+ "11":["yes","no"]
+}</pre>
 
   <code>limit</code> - Лимит
 
-  <code>postscript</code> - Скрипт для постобработки. Добавится кнопка "Обработать", которая будет кидать методом POST полученный фильтр-запрос на этот скрипт. Доступно только админам.
+  <code>* postscript</code> - Скрипт для постобработки. Добавится кнопка "Обработать", которая будет кидать методом POST полученный фильтр-запрос на этот скрипт. Доступно только админам.
 
-  <code>s</code> - замена подстроки в поле заданной колонки
+  <code>* s</code> - замена подстроки в поле заданной колонки
 Пример: <code>s:0=-TO\:</code> - заменяет все "-" на ":" в поле 0-й колонки
 
   <code>autoopen_ed</code> - автоматически запускать редактор в случае, если отфильтровалась одна запись
@@ -98,18 +112,29 @@
   <code>text</code> - отобразить поле с данным номером как текст.
 Пример: <code>text:6-11-18</code>
 
-  <code>placeholder</code> - задать плейсхолдер в данном поле/полях ввода
-Пример: <code>placeholder:17(от 1 до 28)-20(YYYY-MM-DD)</code>
+  <code>placeholder</code> - задать плейсхолдер в данном поле/полях фильтра
+  <code>placeholder_ed</code> - задать плейсхолдер в данном поле/полях ввода редактора
+Пример:
+<pre>"placeholder_ed":{
+    "users.phone":"+X (XXX) XXX XXXX"
+}</pre>
 
   <code>unlock_ed</code> - если задать, при запуске редактора его базовый слой будет в плавающем режиме (таракан с лапками) - т.е. его сразу можно таскать и прокручивать.
 
-  <code>key2val</code> - включить подстановку id значением из таблицы для данного поля. Формат: <code>key2val:{N}={TABLE}-{ID}-{VALUE}</code>
-Пример: <code>key2val:23=tblTarifs-nTarId-tName</code>
+  <code>key2val</code> - включить подстановку id значением из таблицы для данного поля.
+Пример:
+<pre>"key2val":{
+  "2":{
+     "table":"asterisk.operators",
+     "col_id":"uid",
+     "col_value":"name"
+     }
+}</pre>
 При этом соответствующее поле фильтрации будет заменено на выпадающее меню.
 
-  <code>logtable</code> - если указать, логи изменений будут писаться не в таблицу log, а сюда.
+<code>logtable</code> - если указать, логи изменений будут писаться не в таблицу log, а сюда.
 
-  <code>subeditor</code> - только для расширенного редактора - включить использование подредакторов.
+<code>subeditor</code> - только для расширенного редактора - включить использование подредакторов.
 
 
 <li><b>Деревья</b></li>
}; 
[Sun Sep 18 17:13:58 2016] [info] user:1, chapter:25, action:body{@@ -89,7 +89,7 @@
 Пример:
 <pre>"checkbox":{
  "c_nat":["yes","no"],
- "11":["yes","no"]
+ "11":[1,0]
 }</pre>
 
   <code>limit</code> - Лимит
}; 
[Sun Sep 18 17:23:59 2016] [info] user:1, chapter:25, action:body{@@ -195,11 +195,19 @@
 
  <code>subeditor</code> - разрешить добавление подредакторов. Данный параметр следует добавлять в queryes.other.
  <code>value_style</code> - задается CSS-стиль поля с сответствующим порядковым номером.
-  Пример: <code>value_style:11(color\:R/G;font-weight\:bold)-1(color\:brown)</code>
+  Пример:
+<pre>"value_style":{
+  "1":"color:R/G;font-weight:bold",
+  "2":"color:brown"
+}</pre>
   (Здесь R/G  - спец. шаблон, цвета red/green, которые будут назначаться в зависимости от знака значения)
 
  <code>zone</code> - привязка полей к зонам шаблонизатора. Не перечисленные поля привязываются к 0 зоне.
- Пример: <code>zone:1(12;13;14)-2(19;20)-3(21;22;23</code>
+ Пример:
+ <pre>"zone":{
+  "11":1, "12":1, "13":1,
+  "3":2, "5":2
+}</pre>
 
 <b>check_form_js</b> - тело javascript-функции, запускаемой на onsubmit формы.
  Пример: <pre>if(!document.forms.ed['tblUsers.nContract'].value){
@@ -232,6 +240,9 @@
 <li><b>Подредактор</b></li>
 
 При использовании расширеного редактора можно подключить произвольное кол-во подредакторов.
-Настройки хранятся в таблице <b>SQ-x</b>.
+Настройки хранятся в таблице <b>SQ-x</b>. В основном, они аналогичны настройкам AED-X.
 
 <b>query_id</b> - ID соответствующй записи в таблице "Запросы" - то же, что и в <b>AED-x</b>.
+
+<b>editor</b> - в этом поле можно указать другой редактор для данного подраздела. По умолчанию - "Subed".
+
}; 
[Sun Sep 18 17:26:37 2016] [info] user:1, chapter:25, action:body{@@ -142,8 +142,7 @@
 Для этого необходимо следующее:
 1) Запрос должен возвращать следующие поля:
 id, kid, parent, [kidname], info1,..,infoN
-2) Следует включить следующие переменные:
-<b>tree</b>:1;
+2) Следует включить следующие значения в хеше <b>tree</b>:
 <b>root</b> - Идентификатор корневой записи;
 <b>kid</b> - Номер колонки идентификаторов деток; <code>(Нумерация колонок начинается с 0)</code>
 <b>parent</b> - Номер колонки идентификаторов родителей;
}; 
[Sun Sep 18 17:27:14 2016] [info] Karabas is coming!
[Sun Sep 18 17:27:40 2016] [info] user:1, chapter:25, action:body{@@ -8,27 +8,17 @@
 2 - активен + в заголовке добавляется ссылка "Файл", позволяющая скачать результат запроса в формате .csv.
 <b>qdb</b> - SQL-запрос.
 Поскольку запрос будет модифицироваться при указании последующей фильтрации или сортировки, существуют следующие ограничения:
-- выражения SQL следует писать строчными буквами,
 - поля следует разделять ","+пробел или ","+перенос,
-- не следует использовать "*",
-- нельзя делать перенос строки после "order by",
-- еще какие-то ограничения.
-Фокус: можно подменять строку в запросе выбранным значением из списка.
-Пример: <code>select * from ${show tables like 'sw%';sw254_250}</code>
-- при обнаружении подобного в qdb происходит вот что:
-В форму фильтрации добавляется селект, заполненный подзапросом "show tables like 'sw%'"
-Выбранное в нем значение поставляется вместо всех блоков ${..} в qdb.
-Если выбор не был сделан, подставляется значение по дефолту - "sw254_250".
+- если среди полей имеются функции, их парамеры следует разделять только запятой, без пробела,
+- нельзя делать перенос строки после "order by".
+
 <b>f_lenghts</b> - Длины полей ввода фильтров в абсолютных величинах. По умолчанию, или если=0, длины принимаются как length="98%".
 <b>editor</b> - Редактор.
 Формат: {id-ключевое поле},{имя файла-редактора},{имя таблицы}
-Пример: <code>id,aed.pl,db.payments</code>
-(если имя редактора начинается на "a", он вызывается методами AJAX, иначе - во всплывающем окне)
-<b>select_fields</b> - Поля, которые нужно представить в виде выпадающего списка.
-Формат: {имя поля в редактируемой таблице},{имя таблицы со списком возможных значений},{имя поля в таблице со списком возможных значений};{n2},{t2},{nt2}..
-Пример: <code>uid,db.users,name;type,db.payment_types,type</code>
-Ограничения: ключевое поле "таблицы со списком возможных значений", по которому идет ее привязка, должно называться "id".
+Пример: <code>id,Aed,db.payments</code>
+
 <b>colnames</b> - Список имен полей, отображаемый в редакторе (разделитель - ","). Если не заполнить, будут отображаться имена полей таблицы.
+
 <b>a_update</b> - Доступ на изменения.
 Возможные значения:
 0 - нельзя никому
@@ -47,44 +37,66 @@
 127 - не отображать форму последующей фильтрации
 <b>order_id</b> - Число, определяющее порядок сортировки разделов в главном меню.
 <b>log</b> - Журнал изменений: 0 - не вести , 1 - вести.
-<b>host</b> 
-<b>sum</b> - Номера колонок, по которым нужно произвести суммирование. Разделитель - ",".
+<b>host</b> - DSN из конфига, если не указан - base,
+<b>sum</b> - Номера колонок, по которым нужно произвести суммирование.
 <b>users</b> - id пользователей, которым будет доступен данный раздел.
 Пример: <code>(3)(8)(11)</code> - Раздел будут видеть только пользователи с указанными id.
 Если не указывать, раздел доступен всем.
 <b>gr</b> - Название группы. Разделы одной группы будут графически объединены в главном меню.
 
-<b>other</b> - Поле для задания прочих переменных. Формат: var1:value1,var2:value2 и т.д.
+
+<b>var</b> - Поле для задания прочих переменных. Формат: JSON
 Сейчас обрабатываются следующие переменные:
-  <code>grcol</code> - № колонки, по значению которой делать группировку выделением фона
 
-  <code>color</code> - цвет фона для этого, если не указан, задается как "#efefef"
--- если значение поля № grcol изменяется, цвет фона меняется с белого на "color", при следующем изменении - наоборот.
-Пример: <code>grcol:2,color:#efefef</code>
+<code>select_fields</code> - Поля, которые нужно представить в виде выпадающего списка.
+Это хеш, ключами которого являются иена этих полей (или их порядклвый номер). Внутри задаются таблица, из которой берется список, ключевое поле и поле значения.
+Пример:
+<pre>"select_fields":{
+  "moderators.moder":{
+    "table":"moder_levels",
+    "col_id":"id",
+    "col_value":"descr"
+  }
+}</pre>
 
-  <code>qdb</code> - вывести в конце страницы SQL-запрос, возможные значения: 0/1
-  <code>link</code> - добавить в первую ячейку каждой строки ссылку. Чтобы включить в ссылку значения любой колонки, нужно использовать запись '$N', где N - номер колонки
+<code>textarea</code> - имя или № поля в редакторе, которое следует представлять как textarea. Формат тот же, что и в примере выше.
+Можно привязать редактор с подсветкой синтаксиса Ace.
+Пример:
+<pre>"textarea":{
+  "qdb":{
+      "ace":{"mode":"mysql", "height":460}
+   },
+  "var":{
+      "ace":{"mode":"javascript", "height":460}
+   }
+}</pre>
 
-  <code>ltitle</code> - всплывающая подсказка для этой ссылки
+<code>grcol</code> - № колонки, по значению которой делать группировку выделением фона
+Пример:
+<pre>"grcol":{"column":1,"color":"#dfdfdf"}</pre>
+
+<code>qdb</code> - вывести в конце страницы SQL-запрос, возможные значения: 0/1
+<code>* link</code> - добавить в первую ячейку каждой строки ссылку. Чтобы включить в ссылку значения любой колонки, нужно использовать запись '$N', где N - номер колонки
+
+<code>* ltitle</code> - всплывающая подсказка для этой ссылки
 Пример: <code>link:?a=2&id=107&limit=999&c1=$2,ltitle:IP адреса сети</code>
 <i>Чтобы дать ссылку на внешний хост, надо начать URL так: 'http-//', ибо ':' у нас разделитель.</i>
 
-  <code>textarea</code> - № поля в редакторе, которое следует представлять как textarea
 
-  <code>date</code> - № поля в редакторе, в которое следует включать js-календарь
+  <code>date</code> - Поле в редакторе, в которое следует включать js-календарь
 
-  <code>chdot</code> - № колонки,начиная с которой следует заменять '.' на ','
+  <code>checkbox</code> - Поле в редакторе, которое следует представлять как checkbox
+Пример:
+<pre>"checkbox":{
+ "c_nat":["yes","no"],
+ "11":[1,0]
+}</pre>
 
-  <code>checkbox</code> - № поля в редакторе, которое следует представлять как checkbox
-Если таких полей несколько, следует использовать разделитель '-'.
-Если значения, соответствующие THRUE/FALSE отличны от 1/0, их можно определить.
-Пример: <code>checkbox:12(Y/N)-13(Y/N)-14(Y/N)</code>
-
   <code>limit</code> - Лимит
 
-  <code>postscript</code> - Скрипт для постобработки. Добавится кнопка "Обработать", которая будет кидать методом POST полученный фильтр-запрос на этот скрипт. Доступно только админам.
+  <code>* postscript</code> - Скрипт для постобработки. Добавится кнопка "Обработать", которая будет кидать методом POST полученный фильтр-запрос на этот скрипт. Доступно только админам.
 
-  <code>s</code> - замена подстроки в поле заданной колонки
+  <code>* s</code> - замена подстроки в поле заданной колонки
 Пример: <code>s:0=-TO\:</code> - заменяет все "-" на ":" в поле 0-й колонки
 
   <code>autoopen_ed</code> - автоматически запускать редактор в случае, если отфильтровалась одна запись
@@ -100,18 +112,29 @@
   <code>text</code> - отобразить поле с данным номером как текст.
 Пример: <code>text:6-11-18</code>
 
-  <code>placeholder</code> - задать плейсхолдер в данном поле/полях ввода
-Пример: <code>placeholder:17(от 1 до 28)-20(YYYY-MM-DD)</code>
+  <code>placeholder</code> - задать плейсхолдер в данном поле/полях фильтра
+  <code>placeholder_ed</code> - задать плейсхолдер в данном поле/полях ввода редактора
+Пример:
+<pre>"placeholder_ed":{
+    "users.phone":"+X (XXX) XXX XXXX"
+}</pre>
 
   <code>unlock_ed</code> - если задать, при запуске редактора его базовый слой будет в плавающем режиме (таракан с лапками) - т.е. его сразу можно таскать и прокручивать.
 
-  <code>key2val</code> - включить подстановку id значением из таблицы для данного поля. Формат: <code>key2val:{N}={TABLE}-{ID}-{VALUE}</code>
-Пример: <code>key2val:23=tblTarifs-nTarId-tName</code>
+  <code>key2val</code> - включить подстановку id значением из таблицы для данного поля.
+Пример:
+<pre>"key2val":{
+  "2":{
+     "table":"asterisk.operators",
+     "col_id":"uid",
+     "col_value":"name"
+     }
+}</pre>
 При этом соответствующее поле фильтрации будет заменено на выпадающее меню.
 
-  <code>logtable</code> - если указать, логи изменений будут писаться не в таблицу log, а сюда.
+<code>logtable</code> - если указать, логи изменений будут писаться не в таблицу log, а сюда.
 
-  <code>subeditor</code> - только для расширенного редактора - включить использование подредакторов.
+<code>subeditor</code> - только для расширенного редактора - включить использование подредакторов.
 
 
 <li><b>Деревья</b></li>
@@ -119,8 +142,7 @@
 Для этого необходимо следующее:
 1) Запрос должен возвращать следующие поля:
 id, kid, parent, [kidname], info1,..,infoN
-2) Следует включить следующие переменные:
-<b>tree</b>:1;
+2) Следует включить следующие значения в хеше <b>tree</b>:
 <b>root</b> - Идентификатор корневой записи;
 <b>kid</b> - Номер колонки идентификаторов деток; <code>(Нумерация колонок начинается с 0)</code>
 <b>parent</b> - Номер колонки идентификаторов родителей;
@@ -128,17 +150,27 @@
 <b>kidinfo</b> - Номер колонки, начиная с которого значение всех колонок будет выведено как доп. информация;
 Если поля <b>kid</b> - <b>kidinfo</b> не указаны, назначаются следующие значения - 
 kid:1,parent:2,kidname:1,kidinfo:3.
-Также можно указать имя каталога js-скриптов и иконок для отрисовки дерева (по умолчанию это "tq"):
-<b>tdir</b>:<code>tqf</code>
+<b>icons_dir</b> - каталог с набором иконок внутри /tree/. Сейчас доступны каталоги "1", "2", "3".
 Переменная <code>link</code> также работает, только ссылка добавляется в конец строки с текстом значения <code>ltitle</code>
 Полный пример:
-<code>tree:1,root:151,kid:0,parent:3,kidname:4,kidinfo:5,tdir:tqf,link:?a=2&id=107&limit=999&c1=$2,ltitle:(IP)</code>
+<pre>"tree":{
+  "root":"main",
+  "kid":1,
+  "parent":2,
+  "kidname":3,
+  "kidinfo":4,
+  "status":6,
+  "link":"?a=2&id=107&limit=999&c1=$2",
+  "ltitle":"(Devices)"
+  "icons_dir":2
+}</pre>
 
 
 <li><b>Расширенный редактор</b></li>
 
-Чтобы подключить его, нужно указать в поле <code>editor</code> <b>aedx2.pl</b>.
-Данный редактор может работать с любой структурой данных, имеет встроенный шаблонизатор, позволяющий произвольно настраивать внешний вид формы. Включены блекджек, гетеры и JS-валидатор формы.
+Чтобы подключить его, нужно указать в поле <code>editor</code> <b>Aedx</b>.
+Данный редактор может работать с любой структурой данных, имеет встроенный шаблонизатор, позволяющий произвольно настраивать внешний вид формы.
+Включены блекджек, гетеры и JS-валидатор формы.
 Также есть возможность добавить к главной форме произвольное количество связанных с ней второстепенных (подредакторы).
 
 Настройки редактора задаются в отдельной таблице <b>AED-x</b>.
@@ -162,20 +194,26 @@
 
  <code>subeditor</code> - разрешить добавление подредакторов. Данный параметр следует добавлять в queryes.other.
  <code>value_style</code> - задается CSS-стиль поля с сответствующим порядковым номером.
-  Пример: <code>value_style:11(color\:R/G;font-weight\:bold)-1(color\:brown)</code>
+  Пример:
+<pre>"value_style":{
+  "1":"color:R/G;font-weight:bold",
+  "2":"color:brown"
+}</pre>
   (Здесь R/G  - спец. шаблон, цвета red/green, которые будут назначаться в зависимости от знака значения)
 
  <code>zone</code> - привязка полей к зонам шаблонизатора. Не перечисленные поля привязываются к 0 зоне.
- Пример: <code>zone:1(12;13;14)-2(19;20)-3(21;22;23</code>
+ Пример:
+ <pre>"zone":{
+  "11":1, "12":1, "13":1,
+  "3":2, "5":2
+}</pre>
 
 <b>check_form_js</b> - тело javascript-функции, запускаемой на onsubmit формы.
- Пример: <code>
-if(!document.forms.ed['tblUsers.nContract'].value){
+ Пример: <pre>if(!document.forms.ed['tblUsers.nContract'].value){
  alert('Укажите номер договора!');
  this['tblUsers.nContract'].focus();
  return false;
-}
-</code>
+}</pre>
 
  <b>form_template</b> - шаблон формы. Поля, сгруппированные по зонам, включаются в шаблон следующими способами:
 1)
@@ -201,6 +239,9 @@
 <li><b>Подредактор</b></li>
 
 При использовании расширеного редактора можно подключить произвольное кол-во подредакторов.
-Настройки хранятся в таблице <b>SQ-x</b>.
+Настройки хранятся в таблице <b>SQ-x</b>. В основном, они аналогичны настройкам AED-X.
 
 <b>query_id</b> - ID соответствующй записи в таблице "Запросы" - то же, что и в <b>AED-x</b>.
+
+<b>editor</b> - в этом поле можно указать другой редактор для данного подраздела. По умолчанию - "Subed".
+
}; 
[Sun Sep 18 17:30:13 2016] [info] user:1, chapter:25, action:body{@@ -45,7 +45,7 @@
 <b>gr</b> - Название группы. Разделы одной группы будут графически объединены в главном меню.
 
 
-<b>var</b> - Поле для задания прочих переменных. Формат: JSON
+<b>var</b> - Поле для задания прочих переменных. Формат: JSON.
 Сейчас обрабатываются следующие переменные:
 
 <code>select_fields</code> - Поля, которые нужно представить в виде выпадающего списка.
}; 
[Sun Sep 18 17:30:24 2016] [info] Karabas is coming!
[Sun Sep 18 17:34:35 2016] [info] Karabas is coming!
[Sun Sep 18 17:39:26 2016] [info] Karabas is coming!
[Sun Sep 18 17:39:50 2016] [info] Karabas is coming!
[Sun Sep 18 17:40:36 2016] [info] user:1, chapter:8, action:var{"key2val":{
  "2":{
     "table":"asterisk.operators",
     "col_id":"uid",
     "col_value":"name"
     }
} -> "key2val":{
  "2":{
     "table":"asterisk.operators",
     "col_id":"uid",
     "col_value":"name"
     }
},
"qdb":1}; 
[Sun Sep 18 17:46:25 2016] [info] user:1, chapter:8, action:var{"key2val":{
  "2":{
     "table":"asterisk.operators",
     "col_id":"uid",
     "col_value":"name"
     }
},
"qdb":1 -> "key2val1":{
  "2":{
     "table":"asterisk.operators",
     "col_id":"uid",
     "col_value":"name"
     }
},
"qdb":1}; 
[Sun Sep 18 17:47:42 2016] [info] user:1, chapter:8, action:qdb{@@ -1,4 +1,5 @@
 select
+ log.id,
  from_unixtime(log.dat) as время,
  log.uid, log.uid, events.event ,
  log.number as откуда
}; 
[Sun Sep 18 17:49:28 2016] [info] user:1, chapter:8, action:qdb{@@ -1,6 +1,6 @@
 select
  log.id,
- from_unixtime(log.dat) as время,
+
  log.uid, log.uid, events.event ,
  log.number as откуда
 from
}; 
[Sun Sep 18 17:50:32 2016] [info] user:1, chapter:8, action:qdb{@@ -1,6 +1,6 @@
 select
  log.id,
-
+ from_unixtime(log.dat) as время,
  log.uid, log.uid, events.event ,
  log.number as откуда
 from
}; 
[Sun Sep 18 17:51:38 2016] [info] Karabas is coming!
[Sun Sep 18 17:58:21 2016] [info] Karabas is coming!
[Sun Sep 18 17:58:44 2016] [info] user:1, chapter:8, action:var{"key2val1":{
  "2":{
     "table":"asterisk.operators",
     "col_id":"uid",
     "col_value":"name"
     }
},
"qdb":1 -> "key2val":{
  "2":{
     "table":"asterisk.operators",
     "col_id":"uid",
     "col_value":"name"
     }
},
"qdb":1}; 
[Sun Sep 18 18:01:55 2016] [info] Karabas is coming!
[Sun Sep 18 19:49:10 2016] [info] Karabas is coming!
[Sun Sep 18 20:03:13 2016] [info] SQ-1: user:1, chapter:14, update {user_friends.phone: 8124546984 -> 8124547887}
[Sun Sep 18 20:04:44 2016] [info] SQ-2: user:1, chapter:14, update {user_comments.author: 2 -> 4}
[Sun Sep 18 20:13:41 2016] [info] user:1, chapter:14, action:update {user_details.place_birth: Шангри-Лa -> Шангри-Лa-37, users.address: ул. Вязов д.137, каморка папы Карло -> ул. Вязов д.13, каморка папы Карло}update {user_details.place_birth: Шангри-Лa -> Шангри-Лa-37, users.address: ул. Вязов д.137, каморка папы Карло -> ул. Вязов д.13, каморка папы Карло}
